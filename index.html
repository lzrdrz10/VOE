<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trivia LZ üçî - Armado de Hamburguesas</title>
<style>
  :root {
    --bg: #0f0f1a;
    --card: #1a1a2e;
    --accent: #ffd700;
    --correct: #00ff9d;
    --wrong: #ff2e63;
    --text: #e0e0e0;
    --shadow: rgba(255, 215, 0, 0.2);
  }
  * { box-sizing: border-box; margin:0; padding:0; }
  body {
    min-height: 100vh;
    background: linear-gradient(135deg, #0f0f1a, #16213e);
    font-family: 'Segoe UI', Tahoma, sans-serif;
    color: var(--text);
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .container { width: 90%; max-width: 560px; padding: 20px 0; min-height: 100vh; }
  .card {
    background: var(--card);
    padding: 32px 25px;
    border-radius: 24px;
    box-shadow: 0 20px 50px var(--shadow);
    border: 2px solid rgba(255,215,0,0.2);
    text-align: center;
    animation: float 6s ease-in-out infinite;
  }
  @keyframes float { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-12px)} }
  h1 { color: var(--accent); font-size: 36px; margin-bottom: 8px; text-shadow: 0 0 20px rgba(255,215,0,0.5); }
  .subtitle { color: #bbb; font-size: 18px; margin-bottom: 30px; }
  #home { display: block; }
  .categorias { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 18px; margin-top: 30px; }
  .categoria-btn {
    padding: 22px 16px; background: rgba(255,215,0,0.1); border: 2px solid var(--accent);
    border-radius: 18px; cursor: pointer; transition: all 0.4s ease; font-weight: 600;
  }
  .categoria-btn:hover { background: rgba(255,215,0,0.25); transform: translateY(-8px) scale(1.03); box-shadow: 0 15px 30px rgba(255,215,0,0.3); }
  .emoji { font-size: 36px; display: block; margin-bottom: 8px; }
  #trivia { display: none; }
  .back-btn { color: var(--accent); text-decoration: underline; cursor: pointer; margin-bottom: 20px; }
  .progress-container { margin: 25px 0; background: rgba(255,255,255,0.1); height: 14px; border-radius: 10px; overflow: hidden; }
  .progress-bar { width: 0%; height: 100%; background: linear-gradient(90deg, #ffd700, #ffaa00); transition: width 0.7s ease; box-shadow: 0 0 20px rgba(255,215,0,0.6); }
  .pregunta { font-size: 21px; margin: 30px 0; line-height: 1.5; font-weight: 500; }
  .opciones { display: flex; flex-direction: column; gap: 14px; margin: 30px 0; }
  .opcion {
    padding: 18px 20px; background: rgba(255,255,255,0.08); border: 2px solid rgba(255,215,0,0.3);
    border-radius: 50px; cursor: pointer; transition: all 0.3s ease; font-size: 17px;
  }
  .opcion:hover { background: rgba(255,215,0,0.15); transform: translateY(-4px); }
  .correcta { background: var(--correct) !important; border-color: var(--correct) !important; color: black; animation: bounce 0.6s; }
  .incorrecta { background: var(--wrong) !important; border-color: var(--wrong) !important; }
  @keyframes bounce { 0%,100%{transform:scale(1)} 50%{transform:scale(1.06)} }
  #botonSiguiente { display:none; margin:20px auto 0; padding:16px 40px; background:var(--accent); color:black; font-weight:bold; font-size:18px; border:none; border-radius:50px; cursor:pointer; }
  #botonSiguiente:hover { background:#ffea80; transform:scale(1.08); }
  .resumen { margin-top:25px; background:rgba(0,0,0,0.3); padding:20px; border-radius:16px; max-height:500px; overflow-y:auto; text-align:left; }
  .pregunta-resumen { margin:16px 0; padding:14px; background:rgba(255,255,255,0.05); border-radius:12px; border-left:5px solid var(--accent); }
  .correct { color:var(--correct); font-weight:bold; }
  .incorrect { color:var(--wrong); font-weight:bold; }
</style>
</head>
<body>
<div class="container">
  <div class="card" id="home">
    <h1>TRIVIA LZ üçî</h1>
    <p class="subtitle">Entrenamiento Oficial - Armado de Hamburguesas</p>
    <div class="categorias">
      <div class="categoria-btn" onclick="iniciarTrivia()">
        <span class="emoji">üçî</span> Armado de Hamburguesas
        <small style="display:block;margin-top:8px;opacity:0.9;font-size:14px;">+60 preguntas oficiales ¬∑ Aleatorias</small>
      </div>
    </div>
  </div>

  <div class="card" id="trivia">
    <div class="back-btn" onclick="volverHome()">‚Üê Volver al men√∫</div>
    <h1>TRIVIA LZ</h1>
    <p class="subtitle">Armado de Hamburguesas y Procedimientos Oficiales</p>
    <div class="progress-container"><div class="progress-bar" id="progress"></div></div>
    <div id="pregunta" class="pregunta"></div>
    <div id="opciones" class="opciones"></div>
    <button id="botonSiguiente">Siguiente ‚Üí</button>
    <div id="resultado"></div>
  </div>
</div>

<script>
// === BANCO COMPLETO DE PREGUNTAS (MEZCLADAS ALEATORIAMENTE CADA VEZ) ===
const todasLasPreguntas = [
  // === CUARTO DE LIBRA ===
  { pregunta: "¬øQu√© pan lleva el Cuarto de Libra?", opciones: ["Pan regular", "Pan Big Mac", "Pan 1/4 (blanco grande)", "Pan artesanal"], correcta: 2 },
  { pregunta: "¬øDe qu√© peso es la carne del Cuarto de Libra?", opciones: ["10:1 (1.6 oz)", "4:1 (4 oz)", "3:1 (5.3 oz)", "2:1"], correcta: 1 },
  { pregunta: "¬øCu√°ntas carnes lleva el Cuarto de Libra?", opciones: ["Una carne 10:1", "Una carne 4:1", "Dos carnes 10:1", "Dos carnes 4:1"], correcta: 1 },
  { pregunta: "¬øCu√°ntas rebanadas de queso lleva el Cuarto de Libra?", opciones: ["1", "2", "Ninguna", "Depende"], correcta: 1 },
  { pregunta: "¬øD√≥nde va el queso en el Cuarto de Libra?", opciones: ["Solo en la base", "Una arriba y una abajo de la carne", "Solo en la corona", "En el medio de dos carnes"], correcta: 1 },
  { pregunta: "¬øCu√°ntos pepinillos lleva el Cuarto de Libra?", opciones: ["1", "2", "3", "Ninguno"], correcta: 1 },
  { pregunta: "¬øQu√© salsas lleva el Cuarto de Libra?", opciones: ["Solo mayonesa", "Ketchup y mostaza", "Mayonesa y salsa Big Mac", "Solo mostaza"], correcta: 1 },
  { pregunta: "¬øD√≥nde se coloca la cebolla en el Cuarto de Libra?", opciones: ["Solo en la corona", "Solo en la base", "En la corona (con salsas)", "Encima del queso"], correcta: 2 },

  // === BIG MAC ===
  { pregunta: "¬øQu√© tipo de pan lleva el Big Mac?", opciones: ["Pan regular", "Pan 1/4", "Pan sesame Big Mac de 3 tapas", "Pan artesanal"], correcta: 2 },
  { pregunta: "¬øCu√°ntas carnes 10:1 lleva el Big Mac en total?", opciones: ["1", "2", "3", "4"], correcta: 1 },
  { pregunta: "¬øCu√°ntas rebanadas de queso lleva el Big Mac?", opciones: ["1", "2", "Ninguna", "3"], correcta: 0 },
  { pregunta: "¬øCu√°nta lechuga lleva el Big Mac en total?", opciones: ["¬Ω onza", "1 onza (¬Ω en base + ¬Ω en corona)", "2 onzas", "Solo en corona"], correcta: 1 },
  { pregunta: "¬øCu√°ntos pepinillos lleva el Big Mac en la corona?", opciones: ["1", "2", "3", "Ninguno"], correcta: 1 },
  { pregunta: "¬øQu√© salsa lleva el Big Mac?", opciones: ["Mayonesa", "Salsa Big Mac", "Ketchup y mostaza", "Salsa Tasty"], correcta: 1 },

  // === HAMBURGUESA / QUESOHAMBURGUESA ===
  { pregunta: "¬øQu√© pan lleva la Hamburguesa y Quesohamburguesa?", opciones: ["Pan 1/4", "Pan regular", "Pan Big Mac", "Pan artesanal"], correcta: 1 },
  { pregunta: "¬øCu√°ntos pepinillos lleva la Hamburguesa normal?", opciones: ["0", "1", "2", "3"], correcta: 1 },
  { pregunta: "¬øLa Quesohamburguesa doble lleva cu√°ntos pepinillos?", opciones: ["1", "2", "3", "Ninguno"], correcta: 1 },
  { pregunta: "¬øEn qu√© orden van los quesos en la Quesohamburguesa doble?", opciones: ["Queso ‚Üí carne ‚Üí queso ‚Üí carne", "Carne ‚Üí queso ‚Üí carne ‚Üí queso", "Ambos quesos abajo", "Ambos arriba"], correcta: 0 },

  // === BIG TASTY ===
  { pregunta: "¬øQu√© tipo de pan lleva el Big Tasty?", opciones: ["Pan regular", "Pan 1/4", "Pan Tasty (grande con semillas)", "Pan artesanal"], correcta: 2 },
  { pregunta: "¬øCu√°ntos quesos lleva en total el Big Tasty?", opciones: ["1", "2", "3", "Ninguno"], correcta: 2 },
  { pregunta: "¬øQu√© salsa lleva el Big Tasty?", opciones: ["Mayonesa", "Salsa Big Mac", "Salsa Tasty ahumada", "Ketchup"], correcta: 2 },

  // === MCN√çFICA ===
  { pregunta: "¬øQu√© carne lleva la McN√≠fica?", opciones: ["10:1", "4:1 (Cuarto)", "3:1", "Pollo"], correcta: 1 },
  { pregunta: "¬øLleva tomate la McN√≠fica?", opciones: ["No", "S√≠, 1 rodaja", "S√≠, 2 rodajas", "Solo si piden"], correcta: 1 },
  { pregunta: "¬øQu√© salsas lleva la McN√≠fica?", opciones: ["Solo mayonesa", "Mostaza, ketchup y mayonesa", "Solo ketchup", "Salsa Big Mac"], correcta: 1 },

  // === MCPOLLO ===
  { pregunta: "¬øQu√© pan lleva el McPollo?", opciones: ["Pan regular", "Pan 1/4 (mismo que Cuarto)", "Pan alargado", "Pan artesanal"], correcta: 1 },
  { pregunta: "¬øD√≥nde va la mayonesa en el McPollo?", opciones: ["Solo corona", "Solo base", "En ambas tapas", "No lleva"], correcta: 2 },

  // === GOURMET ===
  { pregunta: "¬øQu√© lechuga lleva la Gourmet Cl√°sica y Pico Guacamole?", opciones: ["Iceberg", "Romana", "Escarola", "Mezcla"], correcta: 2 },
  { pregunta: "¬øCu√°ntas rodajas de tomate lleva la Gourmet Cl√°sica?", opciones: ["1", "2", "3", "Ninguna"], correcta: 1 },
  { pregunta: "¬øQu√© carne lleva la mayor√≠a de las Gourmet?", opciones: ["10:1", "4:1", "3:1", "Pollo"], correcta: 2 },
  { pregunta: "¬øQu√© lleva el Pico Guacamole Gourmet adem√°s de carne y pan?", opciones: ["Guacamole, pico de gallo, lechuga escarola, queso", "Solo guacamole", "Solo pico de gallo", "Bacon"], correcta: 0 },

  // === PROCEDIMIENTOS Y REGLAS ===
  { pregunta: "¬øCu√°nto dura el lavado de manos oficial?", opciones: ["10 seg", "15 seg", "20 segundos", "30 seg"], correcta: 2 },
  { pregunta: "¬øCada cu√°nto m√≠nimo debes lavarte las manos?", opciones: ["Cada 30 min", "Al menos 1 vez por hora", "Solo al ensuciarte", "Solo al llegar"], correcta: 1 },
  { pregunta: "¬øQu√© hacer si un ingrediente venci√≥ su tiempo secundario?", opciones: ["Usarlo r√°pido", "Mezclarlo", "Desecharlo inmediatamente", "Guardarlo"], correcta: 2 },
  { pregunta: "¬øA cu√°nta altura se aplican las salsas?", opciones: ["¬Ω pulgada", "1 pulgada", "2 pulgadas", "A ojo"], correcta: 1 },
  { pregunta: "¬øCu√°ntos productos puede tener el iniciador al mismo tiempo como m√°ximo?", opciones: ["1", "2", "3", "Todos"], correcta: 1 },
  { pregunta: "¬øQui√©n borra la orden en KVS si el ensamblador termina todo?", opciones: ["Iniciador", "Ensamblador", "Gerente", "Cajero"], correcta: 1 },
  { pregunta: "¬øCu√°l es el tiempo est√°ndar de ensamblaje por s√°ndwich?", opciones: ["15-25 seg", "35-50 segundos", "1 minuto", "No hay"], correcta: 1 },
  { pregunta: "¬øQui√©n pide surtido cuando falta un ingrediente?", opciones: ["Gerente", "Preparador", "Ensamblador", "Cualquiera"], correcta: 2 },
  { pregunta: "¬øPor qu√© usamos pinzas exclusivas para carne, pollo y huevo?", opciones: ["Est√©tica", "Evitar contaminaci√≥n cruzada y alergias", "No quemarse", "Sobraron"], correcta: 1 },
  { pregunta: "¬øD√≥nde se colocan los productos terminados?", opciones: ["En la mesa", "Directo al cliente", "En la OAT", "Donde quepan"], correcta: 2 }
];

// Variables del juego
let preguntas = [];
let indice = 0;
let puntaje = 0;
let respuestasUsuario = [];

const home = document.getElementById("home");
const trivia = document.getElementById("trivia");
const preguntaEl = document.getElementById("pregunta");
const opcionesEl = document.getElementById("opciones");
const botonSiguiente = document.getElementById("botonSiguiente");
const resultadoEl = document.getElementById("resultado");
const progressBar = document.getElementById("progress");

function iniciarTrivia() {
  // Mezclar aleatoriamente y tomar solo 30 preguntas por partida
  preguntas = todasLasPreguntas.sort(() => Math.random() - 0.5).slice(0, 30);
  indice = 0;
  puntaje = 0;
  respuestasUsuario = [];
  home.style.display = "none";
  trivia.style.display = "block";
  cargarPregunta();
}

function volverHome() {
  trivia.style.display = "none";
  home.style.display = "block";
}

function actualizarProgreso() {
  const porcentaje = ((indice + 1) / preguntas.length) * 100;
  progressBar.style.width = porcentaje + "%";
}

function cargarPregunta() {
  botonSiguiente.style.display = "none";
  opcionesEl.innerHTML = "";
  resultadoEl.innerHTML = "";
  const p = preguntas[indice];
  preguntaEl.textContent = p.pregunta;
  actualizarProgreso();

  // Mezclar opciones para que la correcta no siempre est√© en el mismo lugar
  const opcionesMezcladas = p.opciones.map((texto, i) => ({texto, indice: i}))
    .sort(() => Math.random() - 0.5);

  opcionesMezcladas.forEach(item => {
    const btn = document.createElement("div");
    btn.classList.add("opcion");
    btn.textContent = item.texto;
    btn.onclick = () => seleccionarOpcion(item.indice === p.correcta, btn, item.texto);
    opcionesEl.appendChild(btn);
  });
}

function seleccionarOpcion(esCorrecta, elemento, textoSeleccionado) {
  const p = preguntas[indice];
  respuestasUsuario.push({
    pregunta: p.pregunta,
    tuRespuesta: textoSeleccionado,
    respuestaCorrecta: p.opciones[p.correcta],
    correcta: esCorrecta
  });

  if (esCorrecta) {
    elemento.classList.add("correcta");
    puntaje++;
  } else {
    elemento.classList.add("incorrecta");
  }

  Array.from(opcionesEl.children).forEach((op, i) => {
    op.style.pointerEvents = "none";
    if (op.textContent === p.opciones[p.correcta]) op.classList.add("correcta");
  });

  botonSiguiente.style.display = "block";
}

botonSiguiente.onclick = () => {
  indice++;
  if (indice < preguntas.length) {
    cargarPregunta();
  } else {
    mostrarResultadoFinal();
  }
};

function mostrarResultadoFinal() {
  preguntaEl.style.display = "none";
  opcionesEl.innerHTML = "";
  botonSiguiente.style.display = "none";
  const porcentaje = Math.round((puntaje / preguntas.length) * 100);
  let mensaje = "";
  if (porcentaje === 100) mensaje = "¬°MAESTRO DEL ENSAMBLAJE! 100% PERFECTO";
  else if (porcentaje >= 90) mensaje = "¬°EXCELENTE! Casi perfecto";
  else if (porcentaje >= 80) mensaje = "¬°Muy bien! Dominas el procedimiento";
  else if (porcentaje >= 70) mensaje = "¬°Bien! Pero hay que repasar";
  else mensaje = "¬°A practicar m√°s el procedimiento oficial!";

  resultadoEl.innerHTML = `
    <h2 style="color:var(--accent);font-size:30px;margin:20px 0;">${mensaje}</h2>
    <h3>Puntaje: ${puntaje} / ${preguntas.length} (${porcentaje}%)</h3>
    <div class="resumen">
      <h3 style="text-align:center;color:var(--accent);margin-bottom:15px;">Resumen detallado</h3>
      ${respuestasUsuario.map(r => `
        <div class="pregunta-resumen">
          <strong>${r.pregunta}</strong><br>
          Tu respuesta: <span class="${r.correcta ? 'correct' : 'incorrect'}">${r.tuRespuesta}</span><br>
          ${!r.correcta ? `Correcta: <span class="correct">${r.respuestaCorrecta}</span>` : ''}
        </div>
      `).join('')}
    </div>
    <button onclick="volverHome()" style="margin-top:25px;padding:16px 40px;background:var(--accent);color:black;border:none;border-radius:50px;font-size:18px;cursor:pointer;">
      Volver al Men√∫
    </button>
  `;
}
</script>
</body>
</html>
